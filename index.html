<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>typo-crusher</title>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
    /*!
    * Bootstrap v3.3.1 (http://getbootstrap.com)
    * Copyright 2011-2014 Twitter, Inc.
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
    */
    /*! normalize.css v3.0.2 | MIT License | git.io/normalize */
    html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}body{margin:0}a{background-color:transparent}a:active,a:hover{outline:0}h1{margin:.67em 0}textarea{margin:0;font:inherit;color:inherit}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}textarea{overflow:auto}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{color:#000!important;text-shadow:none!important;background:0 0!important;-webkit-box-shadow:none!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}blockquote{border:1px solid #999;page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}@font-face{font-family:'Glyphicons Halflings';src:url(../fonts/glyphicons-halflings-regular.eot);src:url(../fonts/glyphicons-halflings-regular.eot?#iefix) format('embedded-opentype'),url(../fonts/glyphicons-halflings-regular.woff) format('woff'),url(../fonts/glyphicons-halflings-regular.ttf) format('truetype'),url(../fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular) format('svg')}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:transparent}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;line-height:1.42857143;color:#333;background-color:#fff}textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}h1,h2,h3{font-family:inherit;font-weight:500;line-height:1.1;color:inherit;margin-top:20px;margin-bottom:10px}h1{font-size:36px}h2{font-size:30px}h3{font-size:24px}p{margin:0 0 10px}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}.container{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.row{margin-right:-15px;margin-left:-15px}.col-md-10{position:relative;min-height:1px;padding-right:15px;padding-left:15px}@media (min-width:992px){.col-md-10{float:left;width:83.33333333%}.col-md-offset-1{margin-left:8.33333333%}}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}textarea.form-control{height:auto}.container:after,.container:before,.row:after,.row:before{display:table;content:" "}.container:after,.row:after{clear:both}@-ms-viewport{width:device-width}body{font-size:20px;text-align:center}#pastespace{margin-bottom:2em}#displayspace>p{margin:0}
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1>typo-crusher</h1>
          <h2>See your writing in an unfamiliar context</h2>
          <h3>Help proofread your writing and <a href="http://www.wired.com/2014/08/wuwt-typos/">spot typos that your brain hides</a>.</h3>
          <p>Try by pasting this example:</p>
          <blockquote> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed a nisl viverra, consectetur urna eu, malesuada diam. In hac habitasse platea dictumst. Proin ultrices sapien feugiat, rutrum odio cursus, sodales neque. Curabitur eu scelerisque sapien. Duis suscipit posuere lectus eu aliquet. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi a accumsan nulla.</blockquote>
          <textarea class="form-control" rows="3" id="pastespace" placeholder="Paste text here..."></textarea>
          <div id="displayspace"></div>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.6/webfont.js"></script>
    <script>
    $( document ).ready(function() {
      $.get( "https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyD676tSVUxUHoceP8gGTnta5KH-jwVtUtQ", function( data ) {
        //console.log(data);
        var subset = _.sample(data.items, 15);
        //console.log(subset);
        names = _.pluck(subset, 'family');
        //console.log(names);
        WebFont.load({
          google: {
            families: names
          }
        });
      });
      var names = [];
      $('#pastespace').bind("propertychange keyup input paste", function(event){
        var text = $('#pastespace').val();
        //console.log(text);
        var sentences = text.match( /[^\.!\?]+[\.!\?]+/g );
        //console.log(sentences);
        $('#displayspace').text("");
        if(sentences){
          sentences.forEach(function(sentence){
            sentence.trim();
            $('#displayspace').append("<p style='font-family:\""+names[Math.floor(Math.random()*names.length)]+"\";'>"+sentence+"</p>");
          });
        }
        else{
          $('#displayspace').append("<p style='font-family:\""+names[Math.floor(Math.random()*names.length)]+"\";'>"+text+"</p>");
        }
      }).change();
    });
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-306086-24', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
